(function(){"use strict";var e={6022:function(e,t,o){o(8937);var i=o(2269),n=o.n(i),r=o(3396);function a(e,t,o,i,n,a){const s=(0,r.up)("cropper");return(0,r.wg)(),(0,r.j4)(s)}var s=o(9242);const _=(0,r._)("nav",{class:"navbar navbar-dark navbar-expand-md bg-dark justify-content-center"},[(0,r._)("div",{class:"container-fluid"},[(0,r._)("a",{href:"/",class:"navbar-brand"},"Passbild-Generator")])],-1),l={class:"card-body bg-light"},c=(0,r._)("div",{class:"dragFile text-center"},null,-1),g={class:"btn-group d-flex"},p={class:"container"},m={class:"row"},u={class:"col-lg-6 col-md-12 col-sm-12"},d={class:"col-md-12 col-lg-6 col-sm-12"};function h(e,t,o,i,n,a){const h=(0,r.up)("cropper"),v=(0,r.up)("image-control-buttons"),b=(0,r.up)("passportPreview");return(0,r.wg)(),(0,r.iD)(r.HY,null,[_,(0,r._)("div",{onDrop:t[3]||(t[3]=(...e)=>a.dragFile&&a.dragFile(...e)),class:"card"},[(0,r._)("div",{onDragover:t[1]||(t[1]=(0,s.iM)((()=>{}),["prevent"])),onDrop:t[2]||(t[2]=(0,s.iM)((()=>{}),["prevent"]))},[(0,r._)("div",l,[(0,r._)("input",{id:"fileInput",class:"justify-content form-control",type:"file",multiple:"",onChange:t[0]||(t[0]=(...e)=>a.uploadFile&&a.uploadFile(...e))},null,32)]),c],32)],32),(0,r._)("div",g,[(0,r._)("button",{onClick:t[4]||(t[4]=(...e)=>a.switch_through_image_last&&a.switch_through_image_last(...e)),class:"btn btn-dark border"}," ⬅️ Last "),(0,r._)("button",{onClick:t[5]||(t[5]=(...e)=>a.switch_through_image_next&&a.switch_through_image_next(...e)),class:"btn btn-dark border"}," Next ➡️ ")]),(0,r._)("div",p,[(0,r._)("div",m,[(0,r._)("div",u,[(0,r.Wm)(h,{class:"cropper",ref:"cropper",src:n.img,"stencil-props":{previewClass:"stencil-overlay",aspectRatio:3.5/4.5},onChange:a.onChange,debounce:!1},null,8,["src","stencil-props","onChange"])]),(0,r._)("div",d,[(0,r.Wm)(v,{onZoom_in_image:a.zoom_in_image,onZoom_out_image:a.zoom_out_image,onMove_up_image:a.move_up_image,onMove_down_image:a.move_down_image,onMove_right_image:a.move_right_image,onMove_left_image:a.move_left_image,onTurn_right_image:a.turn_right_image,onTurn_left_image:a.turn_left_image,onReset_image:a.reset_image},null,8,["onZoom_in_image","onZoom_out_image","onMove_up_image","onMove_down_image","onMove_right_image","onMove_left_image","onTurn_right_image","onTurn_left_image","onReset_image"]),(0,r.Wm)(b,{ref:"passportPreview",imgFileName:this.image_file_names[this.counter]},null,8,["imgFileName"])])])])],64)}var v=o(9093);const b={class:"container"},f={class:"passportPreviewDiv"},w={class:"passportPreviewContainer",id:"capture"};function k(e,t,o,i,n,a){const s=(0,r.up)("preview"),_=(0,r.up)("passport-buttons");return(0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",f,[(0,r._)("div",w,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.image_count_per_preview_container,(e=>((0,r.wg)(),(0,r.j4)(s,{key:e,width:n.x_wd_passport_preview,height:n.y_wd_passport_preview,image:n.result.image,coordinates:n.result.coordinates,class:"eachPassportImage"},null,8,["width","height","image","coordinates"])))),128))])]),(0,r.Wm)(_,{onDownload_preview_canvas:a.download_preview_canvas},null,8,["onDownload_preview_canvas"])])}const x={class:"btn-group d-flex"};function y(e,t,o,i,n,a){return(0,r.wg)(),(0,r.iD)("div",x,[(0,r._)("button",{class:"btn btn-success btn-block border",onClick:t[0]||(t[0]=e=>a.download_preview_canvas())}," Download ")])}var C={name:"control-buttons",methods:{download_preview_canvas(){this.$emit("download_preview_canvas")}}},F=o(89);const z=(0,F.Z)(C,[["render",y]]);var $=z;const M={data(){var e=2,t=35,o=45,i=[150,100],n=10,r=5,a="10px",s="10px",_="10px",l="10px",c=Math.floor(i[0]/t),g=Math.floor(i[1]/o);return{image_count_per_preview_container:8,x_wd_passport_preview:t*e,y_wd_passport_preview:o*e,image_count_horizontal:c,image_count_vertical:g,number_of_gaps_horizontal:c-1,number_of_gaps_vertical:g-1,gap_height:n,gap_width:r,gap_height_px:String(n)+"px",gap_width_px:String(r)+"px",preview_border_spacing_top:_,preview_border_spacing_bottom:l,preview_border_spacing_left:a,preview_border_spacing_right:s,canvas_size_x:String(i[0])+"px",canvas_size_y:String(i[1])+"px",result:{coordinates:null,image:null}}},props:["imgFileName"],name:"passport-preview",components:{Preview:v.MB,passportButtons:$},methods:{onChange({coordinates:e,image:t}){console.log(this.image_count_vertical),this.result={coordinates:e,image:t}},download_preview_canvas(){n()(document.querySelector("#capture"),{useCORS:!0,height:this.y_wd_passport_preview*this.image_count_vertical+this.gap_height*this.number_of_gaps_vertical+20*this.number_of_gaps_vertical,width:this.x_wd_passport_preview*this.image_count_horizontal+this.gap_width*this.number_of_gaps_horizontal+20,scale:10}).then((e=>{var t=document.body.appendChild(e);t.style.display="none",e.toDataURL("image/png");var o=document.createElement("a");o.href=e.toDataURL("image/png"),o.download="PassportImage_"+this.imgFileName+".png",o.click()})).then((()=>{}))}}},j=()=>{(0,s.sj)((e=>({"85bae3f0":e.canvas_size_x,"85bae3ee":e.canvas_size_y,"717c1206":e.preview_border_spacing_left,"8346e006":e.preview_border_spacing_right,ae5ad914:e.preview_border_spacing_top,"1b7aef2c":e.preview_border_spacing_bottom,"0a60bb7e":e.gap_height_px,"6eb20403":e.gap_width_px})))},O=M.setup;M.setup=O?(e,t)=>(j(),O(e,t)):j;var D=M;const R=(0,F.Z)(D,[["render",k],["__scopeId","data-v-4cb87ab6"]]);var P=R;const L={class:"btn-group d-flex"},S={class:"btn-group d-flex"},T={class:"btn-group d-flex"},U={class:"btn-group d-flex"};function Z(e,t,o,i,n,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",L,[(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[0]||(t[0]=e=>a.zoom_in_image())}," Zoom + "),(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[1]||(t[1]=e=>a.zoom_out_image())}," Zoom - ")]),(0,r._)("div",S,[(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[2]||(t[2]=e=>a.move_up_image())}," Up "),(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[3]||(t[3]=e=>a.move_down_image())}," Down "),(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[4]||(t[4]=e=>a.move_left_image())}," Left "),(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[5]||(t[5]=e=>a.move_right_image())}," Right ")]),(0,r._)("div",T,[(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[6]||(t[6]=e=>a.turn_left_image())}," Turn Left "),(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[7]||(t[7]=e=>a.turn_right_image())}," Turn Right ")]),(0,r._)("div",U,[(0,r._)("button",{class:"btn btn-dark btn-block border",onClick:t[8]||(t[8]=e=>a.reset_image())}," Reset ")])],64)}var H={name:"passport-image-control-buttons",methods:{zoom_in_image(){this.$emit("zoom_in_image")},zoom_out_image(){this.$emit("zoom_out_image")},move_up_image(){this.$emit("move_up_image")},move_down_image(){this.$emit("move_down_image")},move_right_image(){this.$emit("move_right_image")},move_left_image(){this.$emit("move_left_image")},turn_right_image(){this.$emit("turn_right_image")},turn_left_image(){this.$emit("turn_left_image")},reset_image(){this.$emit("reset_image")}}};const B=(0,F.Z)(H,[["render",Z],["__scopeId","data-v-60c96aa5"]]);var I=B,N={components:{Cropper:v.fl,passportPreview:P,imageControlButtons:I},data(){return{File:String,degree_counter:0,counter:0,uploaded_images:[],image_file_names:[],img:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80",result:{coordinates:null,image:null}}},methods:{uploadFile(e){this.File=e.target.files,this.img=URL.createObjectURL(this.File[0]);for(let t=0;t<this.File.length;t++)console.log(this.File[t].name),this.uploaded_images.push(URL.createObjectURL(this.File[t])),this.image_file_names.push(this.File[t].name)},dragFile(e){this.File=e.dataTransfer.files,this.img=URL.createObjectURL(this.File[0]);for(let t=0;t<this.File.length;t++)this.uploaded_images.push(URL.createObjectURL(this.File[t]))},switch_through_image_next(){this.uploaded_images.length>1&&(this.counter+=1,this.img=this.uploaded_images[this.counter%this.uploaded_images.length])},switch_through_image_last(){console.log(this.image_file_names),this.uploaded_images.length>1&&(this.counter-=1,this.counter<1&&(this.counter=0),console.log(this.uploaded_images[this.counter%this.uploaded_images.length]),this.img=this.uploaded_images[this.counter%this.uploaded_images.length])},zoom_out_image(){this.$refs.cropper.zoom(.8)},zoom_in_image(){this.$refs.cropper.zoom(1.2)},move_up_image(){this.$refs.cropper.move(0,-10)},move_down_image(){this.$refs.cropper.move(0,10)},move_right_image(){this.$refs.cropper.move(10,0)},move_left_image(){this.$refs.cropper.move(-10,0)},turn_right_image(){this.$refs.cropper.rotate(1),this.degree_counter+=1},turn_left_image(){this.$refs.cropper.rotate(-1),this.degree_counter-=1},reset_image(){this.$refs.cropper.reset()},onChange({coordinates:e,image:t}){this.result={coordinates:e,image:t},this.$refs.passportPreview.onChange({coordinates:e,image:t})}}};const W=(0,F.Z)(N,[["render",h]]);var Y=W,G={name:"App",components:{Cropper:Y}};const q=(0,F.Z)(G,[["render",a]]);var A=q;(0,s.ri)(A).mount("#app")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,r){if(!i){var a=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],r=e[c][2];for(var s=!0,_=0;_<i.length;_++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](i[_])}))?i.splice(_--,1):(s=!1,r<a&&(a=r));if(s){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,n,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,r,a=i[0],s=i[1],_=i[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(_)var c=_(o)}for(t&&t(i);l<a.length;l++)r=a[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},i=self["webpackChunkpassbildapp"]=self["webpackChunkpassbildapp"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(6022)}));i=o.O(i)})();
//# sourceMappingURL=app.d641e175.js.map